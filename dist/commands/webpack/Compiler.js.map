{"version":3,"file":"Compiler.js","names":["_nodeEvents","_interopRequireDefault","require","_nodeFs","_nodePath","_nodeWorker_threads","_env","_consts","e","__esModule","default","Compiler","EventEmitter","workers","assetsCache","statsCache","resolvers","progressSenders","isCompilationInProgress","constructor","cliOptions","reporter","spawnWorker","platform","workerData","worker","Worker","path","join","__dirname","stdout","stderr","env","process","WORKER_ENV_KEY","onStdChunk","chunk","fallbackType","data","toString","trim","log","JSON","parse","timestamp","Date","now","type","issuer","message","on","callPendingResolvers","error","forEach","resolver","value","event","stats","Object","fromEntries","entries","filter","_","asset","info","hotModuleReplacement","assets","map","name","size","Buffer","from","emit","sendProgress","Number","isNaN","total","completed","progress","percentage","label","code","Error","addProgressSender","callback","push","removeProgressSender","item","getAsset","filename","fileFromCache","Promise","reject","resolve","concat","getSource","DEV_SERVER_ASSET_TYPES","test","filePath","config","root","source","fs","promises","readFile","getSourceMap","sourceMapFilename","related","sourceMap","Array","isArray","exports"],"sources":["../../../src/commands/webpack/Compiler.ts"],"sourcesContent":["import EventEmitter from 'node:events';\nimport fs from 'node:fs';\nimport path from 'node:path';\nimport { Worker } from 'node:worker_threads';\nimport type { SendProgress } from '@callstack/repack-dev-server';\nimport type webpack from 'webpack';\nimport { WORKER_ENV_KEY } from '../../env';\nimport type { LogType, Reporter } from '../../logging';\nimport { DEV_SERVER_ASSET_TYPES } from '../consts';\nimport type { CliOptions } from '../types';\nimport type {\n  CompilerAsset,\n  WebpackWorkerOptions,\n  WorkerMessages,\n} from './types';\n\ntype Platform = string;\n\nexport class Compiler extends EventEmitter {\n  workers: Record<Platform, Worker> = {};\n  assetsCache: Record<Platform, Record<string, CompilerAsset>> = {};\n  statsCache: Record<Platform, webpack.StatsCompilation> = {};\n  resolvers: Record<Platform, Array<(error?: Error) => void>> = {};\n  progressSenders: Record<Platform, SendProgress[]> = {};\n  isCompilationInProgress: Record<Platform, boolean> = {};\n\n  constructor(\n    private cliOptions: CliOptions,\n    private reporter: Reporter\n  ) {\n    super();\n  }\n\n  private spawnWorker(platform: string) {\n    this.isCompilationInProgress[platform] = true;\n\n    const workerData: WebpackWorkerOptions = {\n      cliOptions: this.cliOptions,\n      platform,\n    };\n\n    const worker = new Worker(path.join(__dirname, './CompilerWorker.js'), {\n      stdout: true,\n      stderr: true,\n      env: {\n        ...process.env,\n        [WORKER_ENV_KEY]: '1',\n      },\n      workerData,\n    });\n\n    const onStdChunk = (chunk: string | Buffer, fallbackType: LogType) => {\n      const data = chunk.toString().trim();\n      if (data) {\n        try {\n          const log = JSON.parse(data);\n          this.reporter.process(log);\n        } catch {\n          this.reporter.process({\n            timestamp: Date.now(),\n            type: fallbackType,\n            issuer: 'WebpackCompilerWorker',\n            message: [data],\n          });\n        }\n      }\n    };\n\n    worker.stdout.on('data', (chunk) => {\n      onStdChunk(chunk, 'info');\n    });\n\n    worker.stderr.on('data', (chunk) => {\n      onStdChunk(chunk, 'info');\n    });\n\n    const callPendingResolvers = (error?: Error) => {\n      this.resolvers[platform].forEach((resolver) => resolver(error));\n      this.resolvers[platform] = [];\n    };\n\n    worker.on('message', (value: WorkerMessages.WorkerMessage) => {\n      if (value.event === 'done') {\n        this.isCompilationInProgress[platform] = false;\n        this.statsCache[platform] = value.stats;\n\n        this.assetsCache[platform] = {\n          // keep old assets, discard HMR-related ones\n          ...Object.fromEntries(\n            Object.entries(this.assetsCache[platform] ?? {}).filter(\n              ([_, asset]) => !asset.info.hotModuleReplacement\n            )\n          ),\n          // convert asset data Uint8Array to Buffer\n          ...Object.fromEntries(\n            Object.entries(value.assets).map(([name, { data, info, size }]) => {\n              return [name, { data: Buffer.from(data), info, size }];\n            })\n          ),\n        };\n        this.emit(value.event, { platform, stats: value.stats });\n        callPendingResolvers();\n      } else if (value.event === 'error') {\n        this.emit(value.event, value.error);\n      } else if (value.event === 'progress') {\n        this.progressSenders[platform].forEach((sendProgress) => {\n          if (Number.isNaN(value.total)) return;\n          if (Number.isNaN(value.completed)) return;\n          sendProgress({\n            total: value.total,\n            completed: value.completed,\n          });\n        });\n        this.reporter.process({\n          issuer: 'DevServer',\n          message: [\n            {\n              progress: {\n                value: value.percentage,\n                label: value.label,\n                message: value.message,\n                platform,\n              },\n            },\n          ],\n          timestamp: Date.now(),\n          type: 'progress',\n        });\n      } else {\n        this.isCompilationInProgress[platform] = true;\n        this.emit(value.event, { platform });\n      }\n    });\n\n    worker.on('error', (error) => {\n      callPendingResolvers(error);\n    });\n\n    worker.on('exit', (code) => {\n      callPendingResolvers(new Error(`Worker stopped with exit code ${code}`));\n    });\n\n    return worker;\n  }\n\n  private addProgressSender(platform: string, callback?: SendProgress) {\n    if (!callback) return;\n    this.progressSenders[platform] = this.progressSenders[platform] ?? [];\n    this.progressSenders[platform].push(callback);\n  }\n\n  private removeProgressSender(platform: string, callback?: SendProgress) {\n    if (!callback) return;\n    this.progressSenders[platform] = this.progressSenders[platform].filter(\n      (item) => item !== callback\n    );\n  }\n\n  async getAsset(\n    filename: string,\n    platform: string,\n    sendProgress?: SendProgress\n  ): Promise<CompilerAsset> {\n    // Return file from assetsCache if exists\n    const fileFromCache = this.assetsCache[platform]?.[filename];\n    if (fileFromCache) return fileFromCache;\n\n    this.addProgressSender(platform, sendProgress);\n\n    // Spawn new worker if not already running\n    if (!this.workers[platform]) {\n      this.workers[platform] = this.spawnWorker(platform);\n    } else if (!this.isCompilationInProgress[platform]) {\n      this.removeProgressSender(platform, sendProgress);\n      return Promise.reject(\n        new Error(\n          `File ${filename} for ${platform} not found in compilation assets`\n        )\n      );\n    }\n\n    return await new Promise<CompilerAsset>((resolve, reject) => {\n      // Add new resolver to be executed when compilation is finished\n      this.resolvers[platform] = (this.resolvers[platform] ?? []).concat(\n        (error?: Error) => {\n          this.removeProgressSender(platform, sendProgress);\n\n          if (error) {\n            reject(error);\n          } else {\n            const fileFromCache = this.assetsCache[platform]?.[filename];\n            if (fileFromCache) {\n              resolve(fileFromCache);\n            } else {\n              reject(\n                new Error(\n                  `File ${filename} for ${platform} not found in compilation assets`\n                )\n              );\n            }\n          }\n        }\n      );\n    });\n  }\n\n  async getSource(\n    filename: string,\n    platform: string | undefined,\n    sendProgress?: SendProgress\n  ): Promise<string | Buffer> {\n    if (DEV_SERVER_ASSET_TYPES.test(filename)) {\n      if (!platform) {\n        throw new Error(`Cannot detect platform for ${filename}`);\n      }\n      const asset = await this.getAsset(filename, platform, sendProgress);\n      return asset.data;\n    }\n\n    try {\n      const filePath = path.join(this.cliOptions.config.root, filename);\n      const source = await fs.promises.readFile(filePath, 'utf8');\n      return source;\n    } catch {\n      throw new Error(`File ${filename} not found`);\n    }\n  }\n\n  async getSourceMap(\n    filename: string,\n    platform: string | undefined\n  ): Promise<string | Buffer> {\n    if (!platform) {\n      throw new Error(\n        `Cannot determine platform for source map of ${filename}`\n      );\n    }\n\n    try {\n      const { info } = await this.getAsset(filename, platform);\n      let sourceMapFilename = info.related?.sourceMap;\n\n      if (!sourceMapFilename) {\n        throw new Error(\n          `Cannot determine source map filename for ${filename} for ${platform}`\n        );\n      }\n\n      if (Array.isArray(sourceMapFilename)) {\n        sourceMapFilename = sourceMapFilename[0];\n      }\n\n      const sourceMap = await this.getAsset(sourceMapFilename, platform);\n      return sourceMap.data;\n    } catch {\n      throw new Error(`Source map for ${filename} for ${platform} is missing`);\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}