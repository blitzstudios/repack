{"version":3,"file":"runAdbReverse.js","names":["_execa","_interopRequireDefault","require","e","__esModule","default","runAdbReverse","port","logger","console","adbPath","process","env","ANDROID_HOME","command","execa","info","error","message","split","warn","trim"],"sources":["../../../src/commands/common/runAdbReverse.ts"],"sourcesContent":["import execa from 'execa';\nimport type { Logger } from '../../types';\n\nexport async function runAdbReverse(port: number, logger: Logger = console) {\n  const adbPath = process.env.ANDROID_HOME\n    ? `${process.env.ANDROID_HOME}/platform-tools/adb`\n    : 'adb';\n  const command = `${adbPath} reverse tcp:${port} tcp:${port}`;\n  try {\n    await execa.command(command);\n    logger.info(`Successfully run: ${command}`);\n  } catch (error) {\n    // Get just the error message\n    const message =\n      (error as Error).message.split('error:')[1] || (error as Error).message;\n    logger.warn(`Failed to run: ${command} - ${message.trim()}`);\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGnB,eAAeG,aAAaA,CAACC,IAAY,EAAEC,MAAc,GAAGC,OAAO,EAAE;EAC1E,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,YAAY,GACpC,GAAGF,OAAO,CAACC,GAAG,CAACC,YAAY,qBAAqB,GAChD,KAAK;EACT,MAAMC,OAAO,GAAG,GAAGJ,OAAO,gBAAgBH,IAAI,QAAQA,IAAI,EAAE;EAC5D,IAAI;IACF,MAAMQ,cAAK,CAACD,OAAO,CAACA,OAAO,CAAC;IAC5BN,MAAM,CAACQ,IAAI,CAAC,qBAAqBF,OAAO,EAAE,CAAC;EAC7C,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd;IACA,MAAMC,OAAO,GACVD,KAAK,CAAWC,OAAO,CAACC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAKF,KAAK,CAAWC,OAAO;IACzEV,MAAM,CAACY,IAAI,CAAC,kBAAkBN,OAAO,MAAMI,OAAO,CAACG,IAAI,CAAC,CAAC,EAAE,CAAC;EAC9D;AACF","ignoreList":[]}