{"version":3,"file":"parseFileUrl.js","names":["parseFileUrl","fileUrl","base","url","URL","pathname","searchParams","platform","get","filename","pathArray","split","platformFromPath","slice","join","platformOrName","name","reverse","undefined","replace"],"sources":["../../../src/commands/common/parseFileUrl.ts"],"sourcesContent":["export function parseFileUrl(fileUrl: string, base?: string) {\n  const url = new URL(fileUrl, base);\n  const { pathname, searchParams } = url;\n\n  let platform = searchParams.get('platform');\n  let filename = pathname;\n\n  if (!platform) {\n    const pathArray = pathname.split('/');\n    const platformFromPath = pathArray[1];\n\n    if (platformFromPath === 'ios' || platformFromPath === 'android') {\n      platform = platformFromPath;\n      filename = pathArray.slice(2).join('/');\n    }\n  }\n\n  if (!platform) {\n    const [, platformOrName, name] = filename.split('.').reverse();\n    if (name !== undefined) {\n      platform = platformOrName;\n    }\n  }\n\n  return {\n    filename: filename.replace(/^\\//, ''),\n    platform: platform || undefined,\n  };\n}\n"],"mappings":";;;;;;AAAO,SAASA,YAAYA,CAACC,OAAe,EAAEC,IAAa,EAAE;EAC3D,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAACH,OAAO,EAAEC,IAAI,CAAC;EAClC,MAAM;IAAEG,QAAQ;IAAEC;EAAa,CAAC,GAAGH,GAAG;EAEtC,IAAII,QAAQ,GAAGD,YAAY,CAACE,GAAG,CAAC,UAAU,CAAC;EAC3C,IAAIC,QAAQ,GAAGJ,QAAQ;EAEvB,IAAI,CAACE,QAAQ,EAAE;IACb,MAAMG,SAAS,GAAGL,QAAQ,CAACM,KAAK,CAAC,GAAG,CAAC;IACrC,MAAMC,gBAAgB,GAAGF,SAAS,CAAC,CAAC,CAAC;IAErC,IAAIE,gBAAgB,KAAK,KAAK,IAAIA,gBAAgB,KAAK,SAAS,EAAE;MAChEL,QAAQ,GAAGK,gBAAgB;MAC3BH,QAAQ,GAAGC,SAAS,CAACG,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;IACzC;EACF;EAEA,IAAI,CAACP,QAAQ,EAAE;IACb,MAAM,GAAGQ,cAAc,EAAEC,IAAI,CAAC,GAAGP,QAAQ,CAACE,KAAK,CAAC,GAAG,CAAC,CAACM,OAAO,CAAC,CAAC;IAC9D,IAAID,IAAI,KAAKE,SAAS,EAAE;MACtBX,QAAQ,GAAGQ,cAAc;IAC3B;EACF;EAEA,OAAO;IACLN,QAAQ,EAAEA,QAAQ,CAACU,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IACrCZ,QAAQ,EAAEA,QAAQ,IAAIW;EACxB,CAAC;AACH","ignoreList":[]}