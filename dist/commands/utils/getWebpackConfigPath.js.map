{"version":3,"file":"getWebpackConfigPath.js","names":["_path","_interopRequireDefault","require","_fs","_os","obj","__esModule","default","DEFAULT_WEBPACK_CONFIG_LOCATIONS","getWebpackConfigPath","root","customPath","candidates","candidate","filename","path","isAbsolute","join","fs","existsSync","endsWith","Os","platform","Error"],"sources":["../../../src/commands/utils/getWebpackConfigPath.ts"],"sourcesContent":["import path from 'path';\nimport fs from 'fs';\nimport Os from 'os';\n\n// Supports the same files as Webpack CLI.\nconst DEFAULT_WEBPACK_CONFIG_LOCATIONS = [\n  'webpack.config.mjs',\n  'webpack.config.cjs',\n  'webpack.config.js',\n  '.webpack/webpack.config.mjs',\n  '.webpack/webpack.config.cjs',\n  '.webpack/webpack.config.js',\n  '.webpack/webpackfile',\n];\n\nexport function getWebpackConfigPath(root: string, customPath?: string) {\n  const candidates = customPath\n    ? [customPath]\n    : DEFAULT_WEBPACK_CONFIG_LOCATIONS;\n\n  for (const candidate of candidates) {\n    const filename = path.isAbsolute(candidate)\n      ? candidate\n      : path.join(root, candidate);\n    if (fs.existsSync(filename)) {\n      if (\n        path.isAbsolute(candidate) &&\n        candidate.endsWith('.mjs') &&\n        Os.platform() === 'win32'\n      ) {\n        return `file:\\\\${filename}`;\n      } else {\n        return filename;\n      }\n    }\n  }\n\n  throw new Error('Cannot find Webpack configuration file');\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAoB,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEpB;AACA,MAAMG,gCAAgC,GAAG,CACvC,oBAAoB,EACpB,oBAAoB,EACpB,mBAAmB,EACnB,6BAA6B,EAC7B,6BAA6B,EAC7B,4BAA4B,EAC5B,sBAAsB,CACvB;AAEM,SAASC,oBAAoBA,CAACC,IAAY,EAAEC,UAAmB,EAAE;EACtE,MAAMC,UAAU,GAAGD,UAAU,GACzB,CAACA,UAAU,CAAC,GACZH,gCAAgC;EAEpC,KAAK,MAAMK,SAAS,IAAID,UAAU,EAAE;IAClC,MAAME,QAAQ,GAAGC,aAAI,CAACC,UAAU,CAACH,SAAS,CAAC,GACvCA,SAAS,GACTE,aAAI,CAACE,IAAI,CAACP,IAAI,EAAEG,SAAS,CAAC;IAC9B,IAAIK,WAAE,CAACC,UAAU,CAACL,QAAQ,CAAC,EAAE;MAC3B,IACEC,aAAI,CAACC,UAAU,CAACH,SAAS,CAAC,IAC1BA,SAAS,CAACO,QAAQ,CAAC,MAAM,CAAC,IAC1BC,WAAE,CAACC,QAAQ,CAAC,CAAC,KAAK,OAAO,EACzB;QACA,OAAQ,UAASR,QAAS,EAAC;MAC7B,CAAC,MAAM;QACL,OAAOA,QAAQ;MACjB;IACF;EACF;EAEA,MAAM,IAAIS,KAAK,CAAC,wCAAwC,CAAC;AAC3D","ignoreList":[]}