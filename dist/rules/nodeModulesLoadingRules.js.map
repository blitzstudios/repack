{"version":3,"file":"nodeModulesLoadingRules.js","names":["_utils","require","NODE_MODULES_LOADING_RULES","exports","type","test","include","exclude","getModulePaths","rules","use","loader","options","env","targets","jsc","loose","parser","syntax","jsx","externalHelpers","module","strict","strictMode","tsx"],"sources":["../../src/rules/nodeModulesLoadingRules.ts"],"sourcesContent":["import type { RuleSetRule } from '@rspack/core';\nimport { getModulePaths } from '../utils';\n\n/**\n * @constant NODE_MODULES_LOADING_RULES\n * @type {RuleSetRule}\n * @description Module rule configuration for loading node_modules, excluding React Native Core & out-of-tree platform packages.\n */\nexport const NODE_MODULES_LOADING_RULES: RuleSetRule = {\n  type: 'javascript/auto',\n  test: /\\.[cm]?[jt]sx?$/,\n  include: [/node_modules/],\n  exclude: getModulePaths([\n    'react',\n    'react-native',\n    '@react-native',\n    'react-native-macos',\n    'react-native-windows',\n    'react-native-tvos',\n    '@callstack/react-native-visionos',\n  ]),\n  rules: [\n    {\n      test: /jsx?$/,\n      use: [\n        {\n          loader: 'builtin:swc-loader',\n          options: {\n            env: {\n              targets: { 'react-native': '0.74' },\n            },\n            jsc: {\n              loose: true,\n              parser: {\n                syntax: 'ecmascript',\n                jsx: true,\n              },\n              externalHelpers: true,\n            },\n            module: {\n              type: 'commonjs',\n              strict: false,\n              strictMode: false,\n            },\n          },\n        },\n      ],\n    },\n    {\n      test: /tsx?$/,\n      use: [\n        {\n          loader: 'builtin:swc-loader',\n          options: {\n            env: {\n              targets: { 'react-native': '0.74' },\n            },\n            jsc: {\n              parser: {\n                syntax: 'typescript',\n                tsx: true,\n              },\n              loose: true,\n              externalHelpers: true,\n            },\n            module: {\n              type: 'commonjs',\n              strict: false,\n              strictMode: false,\n            },\n          },\n        },\n      ],\n    },\n  ],\n};\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,OAAA;AAEA;AACA;AACA;AACA;AACA;AACO,MAAMC,0BAAuC,GAAAC,OAAA,CAAAD,0BAAA,GAAG;EACrDE,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,iBAAiB;EACvBC,OAAO,EAAE,CAAC,cAAc,CAAC;EACzBC,OAAO,EAAE,IAAAC,qBAAc,EAAC,CACtB,OAAO,EACP,cAAc,EACd,eAAe,EACf,oBAAoB,EACpB,sBAAsB,EACtB,mBAAmB,EACnB,kCAAkC,CACnC,CAAC;EACFC,KAAK,EAAE,CACL;IACEJ,IAAI,EAAE,OAAO;IACbK,GAAG,EAAE,CACH;MACEC,MAAM,EAAE,oBAAoB;MAC5BC,OAAO,EAAE;QACPC,GAAG,EAAE;UACHC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAO;QACpC,CAAC;QACDC,GAAG,EAAE;UACHC,KAAK,EAAE,IAAI;UACXC,MAAM,EAAE;YACNC,MAAM,EAAE,YAAY;YACpBC,GAAG,EAAE;UACP,CAAC;UACDC,eAAe,EAAE;QACnB,CAAC;QACDC,MAAM,EAAE;UACNjB,IAAI,EAAE,UAAU;UAChBkB,MAAM,EAAE,KAAK;UACbC,UAAU,EAAE;QACd;MACF;IACF,CAAC;EAEL,CAAC,EACD;IACElB,IAAI,EAAE,OAAO;IACbK,GAAG,EAAE,CACH;MACEC,MAAM,EAAE,oBAAoB;MAC5BC,OAAO,EAAE;QACPC,GAAG,EAAE;UACHC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAO;QACpC,CAAC;QACDC,GAAG,EAAE;UACHE,MAAM,EAAE;YACNC,MAAM,EAAE,YAAY;YACpBM,GAAG,EAAE;UACP,CAAC;UACDR,KAAK,EAAE,IAAI;UACXI,eAAe,EAAE;QACnB,CAAC;QACDC,MAAM,EAAE;UACNjB,IAAI,EAAE,UAAU;UAChBkB,MAAM,EAAE,KAAK;UACbC,UAAU,EAAE;QACd;MACF;IACF,CAAC;EAEL,CAAC;AAEL,CAAC","ignoreList":[]}