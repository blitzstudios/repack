{"version":3,"file":"moveElementBefore.js","names":["matchElement","value","tester","test","moveElementBefore","array","beforeElement","elementToMove","getElement","item","sourceIndex","findIndex","targetIndex","moveElement","splice"],"sources":["../../../src/plugins/utils/moveElementBefore.ts"],"sourcesContent":["interface MoveElementBeforeConfig<T> {\n  beforeElement: string | RegExp;\n  elementToMove: string | RegExp;\n  getElement?: (item: T) => string;\n}\n\nfunction matchElement(\n  value: string | undefined,\n  tester: string | RegExp\n): boolean {\n  if (!value) return false;\n  if (typeof tester === 'string') return value === tester;\n  return tester.test(value);\n}\n\nexport function moveElementBefore<T>(\n  array: T[],\n  {\n    beforeElement,\n    elementToMove,\n    getElement = (item) => item as string,\n  }: MoveElementBeforeConfig<T>\n) {\n  const sourceIndex = array.findIndex((item) =>\n    matchElement(getElement(item), elementToMove)\n  );\n\n  if (sourceIndex === -1) return;\n\n  const targetIndex = array.findIndex((item) =>\n    matchElement(getElement(item), beforeElement)\n  );\n\n  if (targetIndex === -1) return;\n\n  // target order already achieved\n  if (sourceIndex < targetIndex) return;\n\n  // Remove source element from its current position\n  const [moveElement] = array.splice(sourceIndex, 1);\n\n  // Insert source element right before the target element\n  array.splice(targetIndex, 0, moveElement);\n}\n"],"mappings":";;;;;;AAMA,SAASA,YAAYA,CACnBC,KAAyB,EACzBC,MAAuB,EACd;EACT,IAAI,CAACD,KAAK,EAAE,OAAO,KAAK;EACxB,IAAI,OAAOC,MAAM,KAAK,QAAQ,EAAE,OAAOD,KAAK,KAAKC,MAAM;EACvD,OAAOA,MAAM,CAACC,IAAI,CAACF,KAAK,CAAC;AAC3B;AAEO,SAASG,iBAAiBA,CAC/BC,KAAU,EACV;EACEC,aAAa;EACbC,aAAa;EACbC,UAAU,GAAIC,IAAI,IAAKA;AACG,CAAC,EAC7B;EACA,MAAMC,WAAW,GAAGL,KAAK,CAACM,SAAS,CAAEF,IAAI,IACvCT,YAAY,CAACQ,UAAU,CAACC,IAAI,CAAC,EAAEF,aAAa,CAC9C,CAAC;EAED,IAAIG,WAAW,KAAK,CAAC,CAAC,EAAE;EAExB,MAAME,WAAW,GAAGP,KAAK,CAACM,SAAS,CAAEF,IAAI,IACvCT,YAAY,CAACQ,UAAU,CAACC,IAAI,CAAC,EAAEH,aAAa,CAC9C,CAAC;EAED,IAAIM,WAAW,KAAK,CAAC,CAAC,EAAE;;EAExB;EACA,IAAIF,WAAW,GAAGE,WAAW,EAAE;;EAE/B;EACA,MAAM,CAACC,WAAW,CAAC,GAAGR,KAAK,CAACS,MAAM,CAACJ,WAAW,EAAE,CAAC,CAAC;;EAElD;EACAL,KAAK,CAACS,MAAM,CAACF,WAAW,EAAE,CAAC,EAAEC,WAAW,CAAC;AAC3C","ignoreList":[]}