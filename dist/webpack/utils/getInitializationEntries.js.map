{"version":3,"sources":["../../../src/webpack/utils/getInitializationEntries.ts"],"names":["getInitializationEntries","reactNativePath","options","initializeCoreLocation","hmr","getPolyfills","require","path","join","entries","resolve","push"],"mappings":";;;;;;;AAAA;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,wBAAT,CACLC,eADK,EAELC,OAAqC,GAAG,EAFnC,EAGK;AACV,QAAM;AAAEC,IAAAA,sBAAF;AAA0BC,IAAAA;AAA1B,MAAkCF,OAAxC;;AAEA,QAAMG,YAAY,GAAGC,OAAO,CAACC,cAAKC,IAAL,CAC3BP,eAD2B,EAE3B,qBAF2B,CAAD,CAA5B;;AAKA,QAAMQ,OAAO,GAAG,CACd,GAAGJ,YAAY,EADD,EAEdF,sBAAsB,IACpBI,cAAKC,IAAL,CAAUP,eAAV,EAA2B,kCAA3B,CAHY,EAIdK,OAAO,CAACI,OAAR,CAAgB,gCAAhB,CAJc,CAAhB;;AAOA,MAAIN,GAAJ,EAAS;AACPK,IAAAA,OAAO,CAACE,IAAR,CACEL,OAAO,CAACI,OAAR,CAAgB,6CAAhB,CADF;AAGD;;AAED,SAAOD,OAAP;AACD","sourcesContent":["import path from 'path';\n\n/**\n * {@link getInitializationEntries} options.\n */\nexport interface InitializationEntriesOptions {\n  /**\n   * Absolute location to JS file with initialization logic for React Native.\n   * Useful if you want to built for out-of-tree platforms.\n   */\n  initializeCoreLocation?: string;\n  /**\n   * Whether Hot Module Replacement entry should be enabled. Defaults to `true`.\n   */\n  hmr?: boolean;\n}\n\n/**\n * Get setup and initialization entires for Webpack configuration's `entry` field.\n * The returned entires should be added before your project entry.\n *\n * @param reactNativePath Absolute path to directory with React Native dependency.\n * @param options Additional options that can modify returned entires.\n * @returns Array of entires.\n *\n * @category Webpack util\n */\nexport function getInitializationEntries(\n  reactNativePath: string,\n  options: InitializationEntriesOptions = {}\n): string[] {\n  const { initializeCoreLocation, hmr } = options;\n\n  const getPolyfills = require(path.join(\n    reactNativePath,\n    'rn-get-polyfills.js'\n  ));\n\n  const entries = [\n    ...getPolyfills(),\n    initializeCoreLocation ||\n      path.join(reactNativePath, 'Libraries/Core/InitializeCore.js'),\n    require.resolve('../../client/setup/setupRepack'),\n  ];\n\n  if (hmr) {\n    entries.push(\n      require.resolve('../../client/setup/modules/WebpackHMRClient')\n    );\n  }\n\n  return entries;\n}\n"],"file":"getInitializationEntries.js"}